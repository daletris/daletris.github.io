<html>
<head>
    <title>Daletris</title>
    <style>
        html {
          background: url("dale1.jpg") no-repeat center center fixed;
          background-size: cover;
        }
        
        body {
          color: #fff;
          font-family: sans-serif;
          font-size: 1.2em;
          margin: 0;
          display: flex;
          justify-content: center;
          align-items: stretch;
          height: 100vh;
        }
        
        #score {
          font-size: 50px;
          font-weight: bold;
          color: rgb(0, 0, 0);
          padding: 0px;
          margin-bottom: 5px;
          border-bottom: 1px solid gold;
        }
        
        a:link {
          color: goldenrod;
          background-color: transparent;
          text-decoration: none;
        }
        a:visited {
          color: goldenrod;
          background-color: transparent;
          text-decoration: none;
        }
        a:hover {
          color: darkgoldenrod;
          background-color: transparent;
          text-decoration: none;
        }
        a:active {
          color: yellow;
          background-color: transparent;
          text-decoration: underline;
        }
        
        .layout {
          display: grid;
          grid-template-columns: 1fr auto 1fr; /* left | game | right */
          width: 100%;
          max-width: 1400px;
          height: 100%;
        }
        
        .sidebar {
          padding: 20px;
          display: flex;
          flex-direction: column;
          justify-content: flex-start;
          color: white;
        }
        
        .sidebar.left {
          border-right: 2px solid rgba(255, 215, 0, 0.6);
        }
        
        .sidebar.right {
          border-left: 2px solid rgba(255, 215, 0, 0.6);
        }
        
        .game {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
        }
        
        canvas {
          border: solid .3em #8888;
          height: 100%;
          max-height: 90vh;
        }
        
        .controls {
          font-size: 50px;
          font-weight: bold;
          color: rgb(0, 0, 0);
          padding: 0px;
          margin-bottom: 5px;
          border-bottom: 1px solid gold;
        }
        
        /* mobile */
        @media (max-aspect-ratio: 1/1) {
          .layout {
            display: flex;
            flex-direction: column; 
            height: 100vh;
          }
        
          .game {
            order: 1; /* game at top */
            flex: 1 0 auto;
          }
        
          .sidebar.left {
            order: 2; /* left sidebar under game */
            border-right: none;
            border-top: 2px solid rgba(255, 215, 0, 0.6);
          }
        
          .sidebar.right {
            order: 3; /* right sidebar at bottom */
            border-left: none;
            border-top: 2px solid rgba(255, 215, 0, 0.6);
          }
        
          canvas {
            width: 100%;
            height: 100vh;
            max-height: none;
          }
        }
    </style>
</head>
<body>
  <div class="layout">

    <aside class="sidebar left">
      <h1><b><i>DALETRIS</i></b></h1>
      <h2>Brought to you by <br> <b style="color:red;">HOT</b><b style="color:blue;">COLD</b><b>VOTE</b></h2>
      <p>The best thing since <b style="color:red;">HOT</b><b style="color:blue;">COLD</b><b>VOTE</b></p>
      <p>Check it out at <br> <a href="https://hotcoldvote.github.io/">hotcoldvote.github.io</a></p>
    </aside>

    <main class="game">
      <div class="controls">Score: <span id="score"></span></div>
      <canvas id="tetris" width="240" height="400"></canvas>
    </main>

    <aside class="sidebar right">
      <h2 id="highscore">High Score: 0</h2>
      <h2>Leaderboard</h2>
      <div id="leaderboard-list">Loading leaderboard...</div>
      <input id="clickMe" type="button" value="Change Name" onclick="changePlayerName();" />
    </aside>

    <div id="ws-loading" style="
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
      background:rgba(0,0,0,0.8); color:white; font-size:20px; z-index:9999;">
      Connecting to leaderboard...
    </div>
  </div>
  <script src="tetris.js"></script>
</body>
</html>
